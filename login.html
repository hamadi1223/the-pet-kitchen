<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Login to The Pet Kitchen - Access your account, manage your pets, and view your orders.">
  <meta name="theme-color" content="#C6A769">
  
  <title>Login - The Pet Kitchen</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23ffffff'/><text x='50' y='70' font-size='60' text-anchor='middle'>üêæ</text></svg>">
  <link rel="apple-touch-icon" href="assets/images/hero/dog_hero.png">
  
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/auth.css">
</head>
<body>
  <header class="header">
    <div class="container">
      <div class="header-content">
        <a href="index.html" class="logo">
          <span>THE PET KITCHEN</span>
        </a>
        
        <nav class="nav desktop-nav" role="navigation">
          <ul class="nav-list">
            <li><a href="index.html" class="nav-link">ABOUT US</a></li>
            <li><a href="meal-plans.html" class="nav-link">MEAL PLANS</a></li>
            <li><a href="instructions.html" class="nav-link">INSTRUCTIONS</a></li>
            <li><a href="subscriptions.html" class="nav-link">SUBSCRIPTIONS</a></li>
            <li><a href="index.html#reviews" class="nav-link">REVIEWS</a></li>
            <li><a href="events.html" class="nav-link">EVENTS</a></li>
            <li><a href="signup.html" class="btn btn-outline">SIGN UP</a></li>
          </ul>
        </nav>

        <button type="button" id="navToggle" class="nav-toggle" aria-expanded="false" aria-controls="mobileMenu" aria-label="Toggle navigation menu">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>
      </div>
    </div>

    <div id="mobileMenu" class="mobile-panel" role="dialog">
      <nav class="mobile-nav" role="navigation">
        <ul class="mobile-nav-list">
          <li><a href="index.html" class="mobile-nav-link">About Us</a></li>
          <li><a href="meal-plans.html" class="mobile-nav-link">Meal Plans</a></li>
          <li><a href="instructions.html" class="mobile-nav-link">Instructions</a></li>
          <li><a href="subscriptions.html" class="mobile-nav-link">Subscriptions</a></li>
          <li><a href="index.html#reviews" class="mobile-nav-link">Reviews</a></li>
          <li><a href="events.html" class="mobile-nav-link">Events</a></li>
          <li><a href="signup.html" class="btn btn-outline mobile-cta">Sign Up</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="auth-main">
    <div class="container">
      <div class="auth-container">
        <div class="auth-header">
          <h1>Welcome Back</h1>
          <p>Log in to access your account and manage your pet's meals</p>
        </div>

        <form id="loginForm" class="auth-form" method="POST" action="#" onsubmit="return false;">
          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" required autocomplete="email">
          </div>

          <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" name="password" required autocomplete="current-password">
            <div style="text-align: right; margin-top: 0.5rem;">
              <a href="#" id="forgotPasswordLink" class="forgot-password-link" style="color: var(--accent); text-decoration: none; font-size: 0.875rem; font-weight: 500;">Forgot your password?</a>
            </div>
          </div>

          <div id="errorMessage" class="error-message" style="display: none;"></div>
          <div id="successMessage" class="success-message" style="display: none;"></div>

          <button type="submit" class="btn btn-primary btn-block" id="submitBtn">
            Log In
          </button>

          <p class="auth-footer">
            Don't have an account? <a href="signup.html">Sign up here</a>
          </p>
        </form>
      </div>
    </div>
  </main>

  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h4>ABOUT US</h4>
          <ul>
            <li><a href="index.html">How it Works</a></li>
            <li><a href="meal-plans.html">Meal Plans</a></li>
            <li><a href="instructions.html">Instructions</a></li>
            <li><a href="subscriptions.html">Subscriptions</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>SOCIALS</h4>
          <div class="social-links">
            <a href="https://www.instagram.com/thepetkitchen.kw/" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <rect x="2" y="2" width="20" height="20" rx="5" ry="5" stroke="currentColor" stroke-width="2"/>
                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z" stroke="currentColor" stroke-width="2"/>
                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5" stroke="currentColor" stroke-width="2"/>
              </svg>
            </a>
          </div>
          <h4>ADDRESS</h4>
          <address>The heart of Kuwait</address>
        </div>
      </div>
    </div>
  </footer>

  <div id="navOverlay" class="nav-overlay"></div>
  
  <!-- Forgot Password Modal -->
  <div id="forgotPasswordModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="forgotPasswordModalTitle">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="forgotPasswordModalTitle">Reset Password</h2>
        <button class="modal-close" id="closeForgotPasswordModal" aria-label="Close forgot password modal">&times;</button>
      </div>
      <div class="modal-body" style="padding: 1.5rem;">
        <form id="forgotPasswordForm" class="auth-form" onsubmit="return false;">
          <div class="form-group">
            <label for="forgotPasswordEmail">Email</label>
            <input type="email" id="forgotPasswordEmail" name="email" required autocomplete="email" placeholder="Enter your email address">
            <small class="form-helper">We'll send you a reset link if this email exists in our system.</small>
          </div>

          <div id="forgotPasswordErrorMessage" class="error-message" style="display: none;"></div>
          <div id="forgotPasswordSuccessMessage" class="success-message" style="display: none;"></div>

          <button type="submit" class="btn btn-primary btn-block" id="forgotPasswordSubmitBtn">
            Send Reset Link
          </button>
        </form>
      </div>
    </div>
  </div>
  
  <script src="js/security.js" defer></script>
  <script src="js/api.js" onload="console.log('‚úÖ api.js script tag loaded');" onerror="console.error('‚ùå api.js failed to load!');"></script>
  <script src="js/error-handler.js" defer></script>
  <script>
    // Verify API loaded immediately after script tag
    setTimeout(() => {
      if (!window.authAPI) {
        console.error('‚ö†Ô∏è WARNING: authAPI not found after api.js should have loaded!');
        console.log('Available window properties:', Object.keys(window).filter(k => k.includes('API') || k.includes('auth')));
      } else {
        console.log('‚úÖ authAPI confirmed available after script load');
      }
    }, 100);
  </script>
  <script src="js/app.js" defer></script>
  <script src="js/navigation.js" defer></script>
  <script src="js/auth.js" defer></script>
</body>
</html>

